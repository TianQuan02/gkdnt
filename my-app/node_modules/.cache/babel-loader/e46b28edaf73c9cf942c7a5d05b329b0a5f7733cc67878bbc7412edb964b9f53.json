{"ast":null,"code":"import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n  async getPhoto(options) {\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise(async (resolve, reject) => {\n      if (options.webUseInput || options.source === CameraSource.Photos) {\n        this.fileInputExperience(options, resolve, reject);\n      } else if (options.source === CameraSource.Prompt) {\n        let actionSheet = document.querySelector('pwa-action-sheet');\n        if (!actionSheet) {\n          actionSheet = document.createElement('pwa-action-sheet');\n          document.body.appendChild(actionSheet);\n        }\n        actionSheet.header = options.promptLabelHeader || 'Photo';\n        actionSheet.cancelable = false;\n        actionSheet.options = [{\n          title: options.promptLabelPhoto || 'From Photos'\n        }, {\n          title: options.promptLabelPicture || 'Take Picture'\n        }];\n        actionSheet.addEventListener('onSelection', async e => {\n          const selection = e.detail;\n          if (selection === 0) {\n            this.fileInputExperience(options, resolve, reject);\n          } else {\n            this.cameraExperience(options, resolve, reject);\n          }\n        });\n      } else {\n        this.cameraExperience(options, resolve, reject);\n      }\n    });\n  }\n  async pickImages(_options) {\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise(async (resolve, reject) => {\n      this.multipleFileInputExperience(resolve, reject);\n    });\n  }\n  async cameraExperience(options, resolve, reject) {\n    if (customElements.get('pwa-camera-modal')) {\n      const cameraModal = document.createElement('pwa-camera-modal');\n      cameraModal.facingMode = options.direction === CameraDirection.Front ? 'user' : 'environment';\n      document.body.appendChild(cameraModal);\n      try {\n        await cameraModal.componentOnReady();\n        cameraModal.addEventListener('onPhoto', async e => {\n          const photo = e.detail;\n          if (photo === null) {\n            reject(new CapacitorException('User cancelled photos app'));\n          } else if (photo instanceof Error) {\n            reject(photo);\n          } else {\n            resolve(await this._getCameraPhoto(photo, options));\n          }\n          cameraModal.dismiss();\n          document.body.removeChild(cameraModal);\n        });\n        cameraModal.present();\n      } catch (e) {\n        this.fileInputExperience(options, resolve, reject);\n      }\n    } else {\n      console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements.`);\n      this.fileInputExperience(options, resolve, reject);\n    }\n  }\n  fileInputExperience(options, resolve, reject) {\n    let input = document.querySelector('#_capacitor-camera-input');\n    const cleanup = () => {\n      var _a;\n      (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n    };\n    if (!input) {\n      input = document.createElement('input');\n      input.id = '_capacitor-camera-input';\n      input.type = 'file';\n      input.hidden = true;\n      document.body.appendChild(input);\n      input.addEventListener('change', _e => {\n        const file = input.files[0];\n        let format = 'jpeg';\n        if (file.type === 'image/png') {\n          format = 'png';\n        } else if (file.type === 'image/gif') {\n          format = 'gif';\n        }\n        if (options.resultType === 'dataUrl' || options.resultType === 'base64') {\n          const reader = new FileReader();\n          reader.addEventListener('load', () => {\n            if (options.resultType === 'dataUrl') {\n              resolve({\n                dataUrl: reader.result,\n                format\n              });\n            } else if (options.resultType === 'base64') {\n              const b64 = reader.result.split(',')[1];\n              resolve({\n                base64String: b64,\n                format\n              });\n            }\n            cleanup();\n          });\n          reader.readAsDataURL(file);\n        } else {\n          resolve({\n            webPath: URL.createObjectURL(file),\n            format: format\n          });\n          cleanup();\n        }\n      });\n      input.addEventListener('cancel', _e => {\n        reject(new CapacitorException('User cancelled photos app'));\n        cleanup();\n      });\n    }\n    input.accept = 'image/*';\n    input.capture = true;\n    if (options.source === CameraSource.Photos || options.source === CameraSource.Prompt) {\n      input.removeAttribute('capture');\n    } else if (options.direction === CameraDirection.Front) {\n      input.capture = 'user';\n    } else if (options.direction === CameraDirection.Rear) {\n      input.capture = 'environment';\n    }\n    input.click();\n  }\n  multipleFileInputExperience(resolve, reject) {\n    let input = document.querySelector('#_capacitor-camera-input-multiple');\n    const cleanup = () => {\n      var _a;\n      (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n    };\n    if (!input) {\n      input = document.createElement('input');\n      input.id = '_capacitor-camera-input-multiple';\n      input.type = 'file';\n      input.hidden = true;\n      input.multiple = true;\n      document.body.appendChild(input);\n      input.addEventListener('change', _e => {\n        const photos = [];\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < input.files.length; i++) {\n          const file = input.files[i];\n          let format = 'jpeg';\n          if (file.type === 'image/png') {\n            format = 'png';\n          } else if (file.type === 'image/gif') {\n            format = 'gif';\n          }\n          photos.push({\n            webPath: URL.createObjectURL(file),\n            format: format\n          });\n        }\n        resolve({\n          photos\n        });\n        cleanup();\n      });\n      input.addEventListener('cancel', _e => {\n        reject(new CapacitorException('User cancelled photos app'));\n        cleanup();\n      });\n    }\n    input.accept = 'image/*';\n    input.click();\n  }\n  _getCameraPhoto(photo, options) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      const format = photo.type.split('/')[1];\n      if (options.resultType === 'uri') {\n        resolve({\n          webPath: URL.createObjectURL(photo),\n          format: format,\n          saved: false\n        });\n      } else {\n        reader.readAsDataURL(photo);\n        reader.onloadend = () => {\n          const r = reader.result;\n          if (options.resultType === 'dataUrl') {\n            resolve({\n              dataUrl: r,\n              format: format,\n              saved: false\n            });\n          } else {\n            resolve({\n              base64String: r.split(',')[1],\n              format: format,\n              saved: false\n            });\n          }\n        };\n        reader.onerror = e => {\n          reject(e);\n        };\n      }\n    });\n  }\n  async checkPermissions() {\n    if (typeof navigator === 'undefined' || !navigator.permissions) {\n      throw this.unavailable('Permissions API not available in this browser');\n    }\n    try {\n      // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n      // the specific permissions that are supported varies among browsers that implement the\n      // permissions API, so we need a try/catch in case 'camera' is invalid\n      const permission = await window.navigator.permissions.query({\n        name: 'camera'\n      });\n      return {\n        camera: permission.state,\n        photos: 'granted'\n      };\n    } catch (_a) {\n      throw this.unavailable('Camera permissions are not available in this browser');\n    }\n  }\n  async requestPermissions() {\n    throw this.unimplemented('Not implemented on web.');\n  }\n  async pickLimitedLibraryPhotos() {\n    throw this.unavailable('Not implemented on web.');\n  }\n  async getLimitedLibraryPhotos() {\n    throw this.unavailable('Not implemented on web.');\n  }\n}\nconst Camera = new CameraWeb();\nexport { Camera };","map":{"version":3,"names":["WebPlugin","CapacitorException","CameraSource","CameraDirection","CameraWeb","getPhoto","options","Promise","resolve","reject","webUseInput","source","Photos","fileInputExperience","Prompt","actionSheet","document","querySelector","createElement","body","appendChild","header","promptLabelHeader","cancelable","title","promptLabelPhoto","promptLabelPicture","addEventListener","e","selection","detail","cameraExperience","pickImages","_options","multipleFileInputExperience","customElements","get","cameraModal","facingMode","direction","Front","componentOnReady","photo","Error","_getCameraPhoto","dismiss","removeChild","present","console","error","input","cleanup","_a","parentNode","id","type","hidden","_e","file","files","format","resultType","reader","FileReader","dataUrl","result","b64","split","base64String","readAsDataURL","webPath","URL","createObjectURL","accept","capture","removeAttribute","Rear","click","multiple","photos","i","length","push","saved","onloadend","r","onerror","checkPermissions","navigator","permissions","unavailable","permission","window","query","name","camera","state","requestPermissions","unimplemented","pickLimitedLibraryPhotos","getLimitedLibraryPhotos","Camera"],"sources":["C:\\D\\FlutterApp\\my-app\\my-app\\node_modules\\@capacitor\\camera\\src\\web.ts"],"sourcesContent":["import { WebPlugin, CapacitorException } from '@capacitor/core';\n\nimport { CameraSource, CameraDirection } from './definitions';\nimport type {\n  CameraPlugin,\n  GalleryImageOptions,\n  GalleryPhotos,\n  ImageOptions,\n  PermissionStatus,\n  Photo,\n} from './definitions';\n\nexport class CameraWeb extends WebPlugin implements CameraPlugin {\n  async getPhoto(options: ImageOptions): Promise<Photo> {\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise<Photo>(async (resolve, reject) => {\n      if (options.webUseInput || options.source === CameraSource.Photos) {\n        this.fileInputExperience(options, resolve, reject);\n      } else if (options.source === CameraSource.Prompt) {\n        let actionSheet: any = document.querySelector('pwa-action-sheet');\n        if (!actionSheet) {\n          actionSheet = document.createElement('pwa-action-sheet');\n          document.body.appendChild(actionSheet);\n        }\n        actionSheet.header = options.promptLabelHeader || 'Photo';\n        actionSheet.cancelable = false;\n        actionSheet.options = [\n          { title: options.promptLabelPhoto || 'From Photos' },\n          { title: options.promptLabelPicture || 'Take Picture' },\n        ];\n        actionSheet.addEventListener('onSelection', async (e: any) => {\n          const selection = e.detail;\n          if (selection === 0) {\n            this.fileInputExperience(options, resolve, reject);\n          } else {\n            this.cameraExperience(options, resolve, reject);\n          }\n        });\n      } else {\n        this.cameraExperience(options, resolve, reject);\n      }\n    });\n  }\n\n  async pickImages(_options: GalleryImageOptions): Promise<GalleryPhotos> {\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise<GalleryPhotos>(async (resolve, reject) => {\n      this.multipleFileInputExperience(resolve, reject);\n    });\n  }\n\n  private async cameraExperience(\n    options: ImageOptions,\n    resolve: any,\n    reject: any,\n  ) {\n    if (customElements.get('pwa-camera-modal')) {\n      const cameraModal: any = document.createElement('pwa-camera-modal');\n      cameraModal.facingMode =\n        options.direction === CameraDirection.Front ? 'user' : 'environment';\n      document.body.appendChild(cameraModal);\n      try {\n        await cameraModal.componentOnReady();\n        cameraModal.addEventListener('onPhoto', async (e: any) => {\n          const photo = e.detail;\n\n          if (photo === null) {\n            reject(new CapacitorException('User cancelled photos app'));\n          } else if (photo instanceof Error) {\n            reject(photo);\n          } else {\n            resolve(await this._getCameraPhoto(photo, options));\n          }\n\n          cameraModal.dismiss();\n          document.body.removeChild(cameraModal);\n        });\n\n        cameraModal.present();\n      } catch (e) {\n        this.fileInputExperience(options, resolve, reject);\n      }\n    } else {\n      console.error(\n        `Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements.`,\n      );\n      this.fileInputExperience(options, resolve, reject);\n    }\n  }\n\n  private fileInputExperience(\n    options: ImageOptions,\n    resolve: any,\n    reject: any,\n  ) {\n    let input = document.querySelector(\n      '#_capacitor-camera-input',\n    ) as HTMLInputElement;\n\n    const cleanup = () => {\n      input.parentNode?.removeChild(input);\n    };\n\n    if (!input) {\n      input = document.createElement('input') as HTMLInputElement;\n      input.id = '_capacitor-camera-input';\n      input.type = 'file';\n      input.hidden = true;\n      document.body.appendChild(input);\n      input.addEventListener('change', (_e: any) => {\n        const file = input.files![0];\n        let format = 'jpeg';\n\n        if (file.type === 'image/png') {\n          format = 'png';\n        } else if (file.type === 'image/gif') {\n          format = 'gif';\n        }\n\n        if (\n          options.resultType === 'dataUrl' ||\n          options.resultType === 'base64'\n        ) {\n          const reader = new FileReader();\n\n          reader.addEventListener('load', () => {\n            if (options.resultType === 'dataUrl') {\n              resolve({\n                dataUrl: reader.result,\n                format,\n              } as Photo);\n            } else if (options.resultType === 'base64') {\n              const b64 = (reader.result as string).split(',')[1];\n              resolve({\n                base64String: b64,\n                format,\n              } as Photo);\n            }\n\n            cleanup();\n          });\n\n          reader.readAsDataURL(file);\n        } else {\n          resolve({\n            webPath: URL.createObjectURL(file),\n            format: format,\n          });\n          cleanup();\n        }\n      });\n      input.addEventListener('cancel', (_e: any) => {\n        reject(new CapacitorException('User cancelled photos app'));\n        cleanup();\n      });\n    }\n\n    input.accept = 'image/*';\n    (input as any).capture = true;\n\n    if (\n      options.source === CameraSource.Photos ||\n      options.source === CameraSource.Prompt\n    ) {\n      input.removeAttribute('capture');\n    } else if (options.direction === CameraDirection.Front) {\n      (input as any).capture = 'user';\n    } else if (options.direction === CameraDirection.Rear) {\n      (input as any).capture = 'environment';\n    }\n\n    input.click();\n  }\n\n  private multipleFileInputExperience(resolve: any, reject: any) {\n    let input = document.querySelector(\n      '#_capacitor-camera-input-multiple',\n    ) as HTMLInputElement;\n\n    const cleanup = () => {\n      input.parentNode?.removeChild(input);\n    };\n\n    if (!input) {\n      input = document.createElement('input') as HTMLInputElement;\n      input.id = '_capacitor-camera-input-multiple';\n      input.type = 'file';\n      input.hidden = true;\n      input.multiple = true;\n      document.body.appendChild(input);\n      input.addEventListener('change', (_e: any) => {\n        const photos = [];\n        // eslint-disable-next-line @typescript-eslint/prefer-for-of\n        for (let i = 0; i < input.files!.length; i++) {\n          const file = input.files![i];\n          let format = 'jpeg';\n\n          if (file.type === 'image/png') {\n            format = 'png';\n          } else if (file.type === 'image/gif') {\n            format = 'gif';\n          }\n          photos.push({\n            webPath: URL.createObjectURL(file),\n            format: format,\n          });\n        }\n        resolve({ photos });\n        cleanup();\n      });\n      input.addEventListener('cancel', (_e: any) => {\n        reject(new CapacitorException('User cancelled photos app'));\n        cleanup();\n      });\n    }\n\n    input.accept = 'image/*';\n\n    input.click();\n  }\n\n  private _getCameraPhoto(photo: Blob, options: ImageOptions) {\n    return new Promise<Photo>((resolve, reject) => {\n      const reader = new FileReader();\n      const format = photo.type.split('/')[1];\n      if (options.resultType === 'uri') {\n        resolve({\n          webPath: URL.createObjectURL(photo),\n          format: format,\n          saved: false,\n        });\n      } else {\n        reader.readAsDataURL(photo);\n        reader.onloadend = () => {\n          const r = reader.result as string;\n          if (options.resultType === 'dataUrl') {\n            resolve({\n              dataUrl: r,\n              format: format,\n              saved: false,\n            });\n          } else {\n            resolve({\n              base64String: r.split(',')[1],\n              format: format,\n              saved: false,\n            });\n          }\n        };\n        reader.onerror = e => {\n          reject(e);\n        };\n      }\n    });\n  }\n\n  async checkPermissions(): Promise<PermissionStatus> {\n    if (typeof navigator === 'undefined' || !navigator.permissions) {\n      throw this.unavailable('Permissions API not available in this browser');\n    }\n\n    try {\n      // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n      // the specific permissions that are supported varies among browsers that implement the\n      // permissions API, so we need a try/catch in case 'camera' is invalid\n      const permission = await window.navigator.permissions.query({\n        name: 'camera',\n      });\n      return {\n        camera: permission.state,\n        photos: 'granted',\n      };\n    } catch {\n      throw this.unavailable(\n        'Camera permissions are not available in this browser',\n      );\n    }\n  }\n\n  async requestPermissions(): Promise<PermissionStatus> {\n    throw this.unimplemented('Not implemented on web.');\n  }\n\n  async pickLimitedLibraryPhotos(): Promise<GalleryPhotos> {\n    throw this.unavailable('Not implemented on web.');\n  }\n\n  async getLimitedLibraryPhotos(): Promise<GalleryPhotos> {\n    throw this.unavailable('Not implemented on web.');\n  }\n}\n\nconst Camera = new CameraWeb();\n\nexport { Camera };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}